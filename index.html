<html>
<head>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div class="container">
    <div class="topRow">
      <label>
        columns <input id="numColumnsInput" min="1" max="100" placeholder="Number of columns" type="number" value="24" />
      </label>
      <label>
        rows <input id="numRowsInput" min="1" max="100" placeholder="Number of rows" type="number" value="12" />
      </label>
      <label>
        % density <input id="densityInput" min="1" max="100" placeholder="Cell density" type="number" value="25" />
      </label>
    </div>
    <canvas id="canvas"></canvas>
    <div class="bottomRow">
      <div class="statusColumnLeft">
        <span id="loopIndex">1</span><span id="maxLoopIndex">/10</span>
      </div>
      <div class="statusColumnMiddle"><span id="liveCell">&nbsp;</span> <span id="numLiveCells"></span></div>
      <div class="statusColumnRight"><span id="dyingCell">&nbsp;</span> <span id="numDyingCells"></span></div>
    </div>
  </div>
  <script src="./game-browser.js"></script>
  <script>
    const numColumnsInput = document.getElementById('numColumnsInput');
    const numRowsInput = document.getElementById('numRowsInput');
    const densityInput = document.getElementById('densityInput');

    function onChange() {
      const numColumns = parseInt(numColumnsInput.value);
      const numRows = parseInt(numRowsInput.value);
      const density = parseInt(densityInput.value) / 100;

      initialize(numColumns, numRows, density);
    }

    numColumnsInput.addEventListener('input', onChange);
    numRowsInput.addEventListener('input', onChange);
    densityInput.addEventListener('input', onChange);

    onChange();
  </script>
</body>
</html>