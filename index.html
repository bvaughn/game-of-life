<html>
<head>
  <link rel="stylesheet" href="./styles.css">
  <meta name="viewport" content="width=device-width, user-scalable=no" />
</head>
<body>
  <div class="container">
    <div class="topRow">
      <label>
        columns <input id="numColumnsInput" inputmode="decimal" min="1" max="100" placeholder="Number of columns" type="number" value="24" />
      </label>
      <label>
        rows <input id="numRowsInput" inputmode="decimal" min="1" max="100" placeholder="Number of rows" type="number" value="12" />
      </label>
      <label>
        % <input id="densityInput" inputmode="decimal" min="1" max="100" placeholder="Cell density" type="number" value="25" />
      </label>
      <button id="restartButton" title="Restart">
        <svg class="restartIcon"  viewBox="0 0 24 24">
          <path d="M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"></path>
        </svg>
      </button>
    </div>
    <canvas id="canvas"></canvas>
    <div class="bottomRow">
      <div class="statusColumnLeft">
        <span id="loopIndex">1</span><span id="maxLoopIndex">/10</span>
      </div>
      <div class="statusColumnMiddle"><span id="liveCell">&nbsp;</span> <span id="numLiveCells"></span></div>
      <div class="statusColumnRight"><span id="dyingCell">&nbsp;</span> <span id="numDyingCells"></span></div>
    </div>
  </div>
  <script src="./game-browser.js"></script>
  <script>
    const numColumnsInput = document.getElementById('numColumnsInput');
    const numRowsInput = document.getElementById('numRowsInput');
    const densityInput = document.getElementById('densityInput');
    const restartButton = document.getElementById('restartButton');

    function restart() {
      const numColumns = parseInt(numColumnsInput.value);
      const numRows = parseInt(numRowsInput.value);
      const density = parseInt(densityInput.value) / 100;

      initialize(numColumns, numRows, density);
    }

    restartButton.addEventListener('click', restart)

    restart();
  </script>
</body>
</html>